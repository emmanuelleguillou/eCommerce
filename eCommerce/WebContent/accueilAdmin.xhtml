<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<h:title>Page Accueil Admin</h:title>
</h:head>

<h:body>
	<h:form>
		<p:menubar>
			<p:menuitem value="Accueil" url="accueilAdmin.xhtml" />

			<p:menuitem value="Ajouter categorie" url="ajoutCategorie.xhtml"
				icon="ui-icon-plus" />

			<p:menuitem value="Afficher les produits"
				url="afficherProduits.xhtml" />

		</p:menubar>
		<p:spacer height="10"></p:spacer>
		<p:separator></p:separator>

	</h:form>

	<h1 style="text-aliign: center; color: red">Liste des categories</h1>

	<p:dataTable var="cat" value="#{sessionScope.categoriesList}">
		<p:column headerText="Id">
			<h:outputText value="#{cat.idCategorie}" />
		</p:column>

		<p:column headerText="Nom">
			<h:outputText value="#{cat.nomCategorie}" />
		</p:column>

		<p:column headerText="Description">
			<h:outputText value="#{cat.description}" />
		</p:column>

		<p:column headerText="Photo">
			<h:graphicImage value="#{cat.image}" width="50" height="50"></h:graphicImage>
		</p:column>

		<p:column headerText="Operations">
			<p:commandLink value="supprimer" action="#{caMB.supprimerCategorie}"
				update="@all">
				<f:setPropertyActionListener value="#{cat.idCategorie}"
					target="#{caMB.categorie.idCategorie}"></f:setPropertyActionListener>
			</p:commandLink>

			<h:outputText value=" / " />
			<p:commandLink value="modifier" action="#{caMB.modifLien}">
				<f:setPropertyActionListener value="#{cat.idCategorie}"
					target="#{caMB.categorie.idCategorie}"></f:setPropertyActionListener>
			</p:commandLink>

			<h:outputText value=" / " />
			<p:commandLink value="afficher produit"
				action="#{prMB.afficherParCategorie}">
				<f:setPropertyActionListener value="#{cat.idCategorie}"
					target="#{prMB.idCategorie}"></f:setPropertyActionListener>
			</p:commandLink>

		</p:column>

	</p:dataTable>

</h:body>

</html>
